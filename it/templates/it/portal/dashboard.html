{% extends 'it/portal/base.html' %}
{% load i18n %}

{% block title %}{% trans "Dashboard" %}{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">{% trans "Dashboard" %}</h1>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
            <h2 class="card-title">{% trans "My Computers" %}</h2>
            {% if employee_computers %}
                <ul class="list-disc list-inside">
                    {% for ec in employee_computers %}
                    <li><a href="{% url 'it:portal_computer_detail' ec.pk %}" class="link link-primary">{{ ec.computer.code }}</a></li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-gray-500">{% trans "No computers assigned." %}</p>
            {% endif %}
        </div>
    </div>
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
            <h2 class="card-title">{% trans "Recent Help Requests" %}</h2>
            {% if help_requests %}
                <ul class="list-disc list-inside">
                    {% for hr in help_requests %}
                    <li>{{ hr.subject }} - <span class="badge {% if hr.status == hr.STATUS_SOLVED %}badge-success{% else %}badge-warning{% endif %}">{{ hr.get_status_display }}</span></li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-gray-500">{% trans "No recent requests." %}</p>
            {% endif %}
            <div class="card-actions justify-end">
                <a href="{% url 'it:portal_help_request' %}" class="btn btn-primary">{% trans "Submit New Request" %}</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
