{% extends 'fleet/portal/base.html' %}

{% block title %}السائقين - نظام إدارة الأسطول{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-4xl font-bold">
        <i class="fas fa-user"></i> السائقين
    </h1>
</div>

<div class="card bg-base-100 shadow-xl mb-6">
    <div class="card-body">
        <form method="get" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-control">
                <label class="label">
                    <span class="label-text">بحث</span>
                </label>
                <input type="text" name="search" value="{{ search }}" placeholder="الاسم، رقم الرخصة، الهاتف..." class="input input-bordered">
            </div>
            <div class="form-control">
                <label class="label">
                    <span class="label-text">&nbsp;</span>
                </label>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-search"></i> بحث
                </button>
            </div>
        </form>
    </div>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for driver in drivers %}
    <div class="card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow">
        <div class="card-body">
            <h2 class="card-title">
                <i class="fas fa-user"></i> {{ driver.name }}
            </h2>
            <div class="space-y-2">
                <p><strong>رقم الرخصة:</strong> {{ driver.license_no }}</p>
                <p><strong>نوع الرخصة:</strong> {{ driver.license_type }}</p>
                <p><strong>تاريخ الانتهاء:</strong> {{ driver.expiry_date }}</p>
                <p><strong>الهاتف:</strong> {{ driver.phone }}</p>
            </div>
            <div class="card-actions justify-end mt-4">
                <a href="{% url 'fleet:driver_detail' driver.pk %}" class="btn btn-primary btn-sm">
                    <i class="fas fa-eye"></i> عرض التفاصيل
                </a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-span-full text-center py-8">
        <p class="text-gray-500 text-lg">لا يوجد سائقين</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
